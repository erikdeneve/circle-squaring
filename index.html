<html>
<title>Circle-Squaring</title>
<head>
<style>
* { margin:0; padding:0; } /* to remove the top and left whitespace */
html, body { width:100%; height:100%; } /* just to be sure these are full screen*/
canvas { display:block; } /* To remove the scrollbars */
</style>
</head>
<body>
<canvas id="myCanvas"></canvas> 
<script>
(function() 
{
    var canvas = document.getElementById('myCanvas'),
    context = canvas.getContext('2d');
    
    var iFrame = 0;

    // resize the canvas to fill browser window dynamically
    window.addEventListener('resize', resizeCanvas, false);

    function resizeCanvas() 
    {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        /**
        * Your drawings need to be inside this function otherwise they will be reset when 
        * you resize the browser window and the canvas goes will be cleared.
        */
        drawStuff(); 
    }
    resizeCanvas();

    window.requestAnimFrame = (function(callback) 
    {
        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||
            function(callback) {
                window.setTimeout(callback, 1000 / 60);
            };
    })();

    function animate() 
    {
        var canvas = document.getElementById('myCanvas');
        var context = canvas.getContext('2d');

        context.clearRect(0, 0, canvas.width, canvas.height);
        iFrame++;
        
        // draw stuff
        drawStuff();

        // request new frame
        requestAnimFrame(function() {
            animate();
        });
    }
    animate();

    function drawStuff() 
    {
        context.beginPath();
        context.save();
        context.fillStyle="rgba(255,200,180,0.4)";
        context.rotate( 0.1 );
        context.fillRect(10,10,150,75);
        context.restore();
        context.save();
        context.fillStyle="rgba(155,200,250,0.4)";
        context.translate( 150,100);
        context.rotate( -0.003 * iFrame );
        context.fillRect(-50,-50,110,175);
        context.restore();
        context.moveTo(30,30);
        context.lineTo(100,120);
        context.stroke();
    }
})();
</script> 
</body>
</html>